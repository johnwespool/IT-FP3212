<html>
<head>
<script>
function storeHidden() {
  //alert(location.search);
  const urlParams = new URLSearchParams(location.search);
  //alert(urlParams.get('fname'));
  document.getElementById("fname").value = urlParams.get('fname');
  document.getElementById("lname").value = urlParams.get('lname');
  document.getElementById("hiddenname").value = urlParams.get('hiddenname');

}


function showHidden() {
  var alertString;
  alertString = "Fname: "  + document.getElementById("fname").value + ", ";
  alertString = alertString + "Lname: "  + document.getElementById("lname").value + ", ";
  alertString = alertString + "Hiddenname: " + document.getElementById("hiddenname").value;
  alert(alertString);
}

function writeToCookie() {

  //cookieString = "fname="  + document.getElementById("fname").value + "; ";
  //cookieString = cookieString + "lname="  + document.getElementById("lname").value + "; ";
  //cookieString = cookieString + "hiddenname=" + document.getElementById("hiddenname").value + "; ";
  //cookieString = cookieString + "phone=" + document.getElementById("phone").value + "; ";
  
  //alert(cookieString);
  //document.cookie = cookieString + "path=/";
  //document.cookie = "fname=" + document.getElementById("fname").value + ";expires=Wed, 18 Dec 2026 12:00:00 GMT";
  document.cookie = "firstname=John; expires=Wed, 18 Dec 2026 12:00:00 GMT";
  document.cookie = "lastname=Doe; expires=Wed, 18 Dec 2026 12:00:00 GMT";

  alert(getCookie("firstname"));
  let x = document.cookie;
  alert(x.length);
}

function displayCookies() {
  var fname=getCookie("firstname");
  //if (fname==null) {fname="";}
  //if (fname!="") {fname="firstname="+fname;}
  var lname=getCookie("lastname");
  //if (lname==null) {lname="";}
  //if (lname!="") {lname="lastname="+lname;}
  alert (fname + " " + lname);
}

function getCookie(cname) {
  let name = cname + "=";
  let ca = document.cookie.split(';');
  for(let i = 0; i < ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}

</script>


</head>


<body onload="storeHidden()">



<form action="Page3.html">
  <label for="phone">Phone:</label><br>
  <input type="text" id="phone" name="phone" value="222.222.2222"><br>
  <label for="fname">First name:</label><br>
  <input type="hidden" id="fname" name="fname" value="NOTUPDATED"><br>
  <label for="lname">Last name:</label><br>
  <input type="hidden" id="lname" name="lname" value="NOTUPDATED">
  <input type="hidden" id="hiddenname" name="hiddenname" value="NOTUPDATED">
  <br><br>
  <input type="submit" value="Submit">
</form>

<button type="button"
onclick='showHidden()'>
Click me to display Hidden input</button>

<br>

<button type="button"
onclick='writeToCookie()'>
Click me to write to cookie and go to next page</button>

<button type="button"
onclick='displayCookies()'>
Display Cookies</button>

<button type="button" onclick='document.cookie="lastname=Smith;expires=Wed, 18 Dec 2026 12:00:00 GMT"'>Create Cookie 2</button>

</body>
</html>
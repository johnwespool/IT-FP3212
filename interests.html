<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>Interests Page</title>
    <link rel="stylesheet" type="text/css" href="css/main.css" />
</head>

<script type="text/javascript">

 //QUERY AND ASSIGN TO HIDDEN FIELDS
 function storeHidden() {
 const urlParams = new URLSearchParams(window.location.search);
  document.getElementById("userName").value = urlParams.get('userName');
  document.getElementById("password1").value = urlParams.get('password1');
  document.getElementById("passwordVerify").value = urlParams.get('passwordVerify');
  document.getElementById("firstName").value = urlParams.get('firstName');
  document.getElementById("lName").value = urlParams.get('lName');
  document.getElementById("emailfield").value = urlParams.get('emailfield');
  document.getElementById("phonenumb").value = urlParams.get('phonenumb');
  document.getElementById("signUpNewsletter").value = urlParams.get('signUpNewsletter');     
  }
  //SHOW DATA ASSIGNED TO HIDDEN FIELDS
  function showHidden() {
  var alertString;
  alertString = "User Name: "  + document.getElementById("userName").value + ", \n";
  alertString = alertString + "Password: "  + document.getElementById("password1").value + ", \n";
  alertString = alertString + "Password Verify: " + document.getElementById("passwordVerify").value + ", \n";
  alertString = alertString + "First: " + document.getElementById("firstName").value + ", \n";
  alertString = alertString + "Last: " + document.getElementById("lName").value + ", \n";
  alertString = alertString + "Email: " + document.getElementById("emailfield").value + ", \n";
  alertString = alertString + "Phone: " + document.getElementById("phonenumb").value + ", \n";
  alertString = alertString + "SignUpNewsletter: " + document.getElementById("signUpNewsletter").value + ", \n";
  alert(alertString);
}
  
 //COOKIE
 var today = new Date();
  var expiry = new Date(today.getTime() + 30 * 24 * 3600 * 1000); // plus 30 days

  function setCookie(name, value)
  {
    document.cookie=name + "=" + escape(value) + "; path=/; expires=" + expiry.toGMTString();
  }
  
    function storeValues(form)  
  {
    var x = document.getElementById("comment1").value;
  	document.getElementById("comment").value = x;
	  alert (document.getElementById("comment").value);
    setCookie("User", form.userName.value);
    setCookie("Password", form.password1.value);
    setCookie("PasswordCheck", form.passwordVerify.value);
    setCookie("First", form.firstName.value);
    setCookie("Last", form.lName.value);
    setCookie("Email", form.emailfield.value);
    setCookie("Phone", form.phonenumb.value);
    setCookie("Interest 1", form.interest_1.value);
    setCookie("Interest 2", form.interest_2.value);
    setCookie("Interest 3", form.interest_3.value);
    setCookie("Newsletter", form.signUpNewsletter.value);
    setCookie("Comments", form.comment.value);
    setCookie("Referred", form.referred.value);
    return true;
  }
  
  function interest1() {
  var checkBox = document.getElementById("interest_1");
  var text = document.getElementById("interest_1");
  if (checkBox.checked == true){
  document.getElementById("interest_1").value = "Coding";}
  if (checkBox.checked == false){
     document.getElementById("interest_1").value = ""}
}

function interest2() {
  var checkBox = document.getElementById("interest_2");
  var text = document.getElementById("interest_2");
  if (checkBox.checked == true){
  document.getElementById("interest_2").value = "HTML";}
  if (checkBox.checked == false){
     document.getElementById("interest_2").value = ""}
}

function interest3() {
  var checkBox = document.getElementById("interest_3");
  var text = document.getElementById("interest_3");
  if (checkBox.checked == true){
  document.getElementById("interest_3").value = "JavaScript";}
  if (checkBox.checked == false){
     document.getElementById("interest_3").value = ""}
}

</script>


<body onload="storeHidden()">
    <header>
        <div class="top">
            <a class="logo" href="index.html">CapellaVolunteers<span class="dotcom">.org</span></a>
        </div>
        <nav>
            <ul class="topnav">
                <li><a href="index.html">Home</a>
                </li>
                <li><a href="invitation.html">Invitation</a>
                </li>
                <li><a href="gallery.html">Gallery</a>
                </li>
                <li><a href="registration.html" class="active">Registration</a>
                </li>
            </ul>

        </nav>
    </header>
    <section id="pageForm">
        <form method="submit" action="confirm.html" onsubmit="return storeValues(this);" >
			
		<p>	
			<legend>Select your Interests:</legend>

		<p>
			<label for="interest-1"><input type="checkbox" name="interest" value="" id="interest_1" onclick="interest1()"/>Coding</label>
		</p>
		<p>
			<label for="interest-2"><input type="checkbox" name="interest" value="" id="interest_2" onclick="interest2()"/>HTML</label>
		</p>
		<p>
			<label for="interest-3"><input type="checkbox" name="interest" value="" id="interest_3" onclick="interest3()"/>JavaScript</label>
		</p>

		</fieldset>
			
		<label for="signUpNewsletter">Sign up for newsletter:
            </label>
			  <input type="radio" name="signUpNewsletter" id="signUpNewsletter" value="Yes" checked> Yes 
				<input type="radio" name="signUpNewsletter" value="No"> No


			<br>
			<br>
		<label for="comment">Comments:
            </label>	
			<br>
		<textarea id="comment1" rows="4" cols="50" ></textarea>	
			<br>
			<br>
		<label for="referred">Referred By:</label><br>
		<input type="text" id="referred" name="referred" value=""><br>	
	
            <!--HIDDEN FIELDS FROM REGISTRATION PAGE-->
			<input type="hidden" id="userName" name="userName" value="NOTUPDATED">
			<input type="hidden" id="password1" name="password1" value="NOTUPDATED">
			<input type="hidden" id="passwordVerify" name="passwordVerify" value="NOTUPDATED">
			<input type="hidden" id="firstName" name="firstName" value="NOTUPDATED">
			<input type="hidden" id="lName" name="lName" value="NOTUPDATED">
			<input type="hidden" id="emailfield" name="emailfield" value="NOTUPDATED">
			<input type="hidden" id="phonenumb" name="phonenumb" value="NOTUPDATED">
			<input type="hidden" id="signUpNewsletter" name="signUpNewsletter" value="NOTUPDATED">
	    		<input type="hidden" id="comment" name="comment" value="NOTUPDATED">
		
		<button type="button"
		onclick="showHidden()">
		Click me to display Hidden input</button>
			
            <input type="submit" value="Register">
        </form>
    </section>

    <footer>This events site is for IT-FP3215 tasks.
    </footer>
</body>

</html>
